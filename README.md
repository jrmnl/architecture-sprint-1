# Задание №1 - Микрофронтенды

## Выбор реализации

run time + клиентская компоновка

> У вас есть интерактивный контент, который меняется от действий пользователя

## Выбор фреймворка

Для перехода на микрофронтенды выбран фреймворк Webpack Module Federation.

Причины:
* Сейчас не нужна технологическая изоляция как в Single SPA (все будет на реакте, т.к. разделяем существующее реакт приложение)
* Сможем быстро сделать ui-kit из-за того что у нас только реакт и используется только одна версия
* Можем настроить "react", "react-dom" и "react-router-dom" как shared-dependecy тем самым оптимизировать размер итоговых бандлов микрофронтендов
* Вебпак привычен в работе, а документация плагина есть в документации самого вебпака (правда она бедная). Из плюсов есть примеры различных кейсов [здесь](https://module-federation.io/blog/announcement.html).
* В будущем можно поднять до версии 2.0 [ссылка](https://module-federation.io/blog/announcement.html) или перейти на Single SPA (у них в документации написано, что Single SPA и module federation хорошо сочетаются). Во второй версии много quality of life фишек: Chrome DevTools для упрощения дебага, хинты для разработки и проч.

## Выбор декомпозиции

Микрофронтенд для разработчиков ui-kit - общей библиотеки компонентов и стилей, которая будет использоваться везде. Сейчас там только общие стили, шрифты и компоненты попапов. В будущем там будут другие типовые компоненты и стили: кнопки, дропдауны, глобальные стили ссылок и т.д. 
- ui-kit-microfrontend

В `Mesto` прослеживается три практически независимых домена. Для этих частей использовал вертикальную нарезку для проектов:
- profile-microfrontend (управление профилем)
- places-microfrontend (управление местами)
- auth-mirofrontend (аутентифиация и авторизация)

Корневой проект, где подключены остальные микрофронтенды и настроена маршрутизация. Так же там остался каркас сайта, шапка, контент и футер. Скорее всего это будет общий репозиторий для всех команд.
- root-microfrontend

## Межмодульное взаимодействие

Был удален UserContext и каждый микроферонтенд сейчас идет по API за информацией о пользователя.

Для взаимодействия с `ui-kit-microfrontend/InfoTooltip` (триггер появление нотификации) и `places-microfrontend/Places` (триггер появления попапа для добавления места) был выбран Pub/Sub используя стандартные ивенты js.

## Как запустить

1. Перейти в папку `./frontend`
2. Вызвать команду `npm i`
3. Вызвать команду `npm run start`
3. Полностью собранный сайт будет на вкладке `localhost:3000`

# Задание №2 - Микросервисы

Находится тут по адресу [./microservices.drawio](./microservices.drawio)